#!/usr/bin/perl -w
#
# dclean
# 
# Perl script to clean up files from an ls-dyna run
# Mark 02/24/04
#
# Modified the code to not clean things up if the simulation is
# running or was killed
# Mark 12/02/04
#

print "Deleting the following ls-dyna temporary run files:\n";

# files to remove (at least their prefixes)
@hitlist = qw(d3dump d3thdt d3full d3hsp mes00 scr adp bg_switch machines junk status.out); 

if (-e "disk8" || -e "disk811")
{
  print "This simulation is still running or was killed.\n";
  print "Nothing is being removed.\n";
}

else
{
  foreach $name (<*>)
    {
      foreach $hit (@hitlist)
	{
	  if ($name =~ /^$hit/)
	    {
	      $cmdline = "rm -v $name";
	      system("$cmdline");
	    }
	}
    }
}
